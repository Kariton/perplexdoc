{{- $img := ( partial "img/func/get-featuredResource.html" . ) -}}
{{- with $img -}}
    {{- $imgclass := "" -}}
    <figure class="fig-card">
        {{- if eq .MediaType.SubType "svg" -}}
          <img class="img--svg" src="{{ .RelPermalink }}" alt="{{ .Name }}" title="{{ .Title }}">
        {{- else -}}
            {{- if eq .MediaType.SubType "png" -}}
                {{- $imgclass = "img-png" -}}
            {{- end -}}
            {{- $max_px := mul $.Site.Params.layout.column $.Site.Params.layout.xmax -}}
            {{ $img := .Resize (printf "%dx" (int $max_px)) }}
            <img {{ with $imgclass }}class="{{ . }}"{{ end }} src="{{ $img.RelPermalink }}" alt="{{ .Name }}"
                 title="{{ .Title }}"
                 srcset="{{ partial "img/func/srcset.html" (dict "img" . "max" $max_px) }}"
                 width="{{ $img.Width }}" height="{{ $img.Height }}" loading="lazy">
        {{- end -}}
    </figure>
{{- end -}}
